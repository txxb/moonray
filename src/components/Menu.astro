---
import * as Image from '../scripts/ImagePath'
---
<head>
  <script type="module">
    // Define the menu items
    const menuItems = [
      { name: 'Home', link: '/' },
      { name: 'About', link: '/about' },
      { name: 'FAQ', link: '/faq' },
      { name: 'Documentation', link: '/documentation' },
      { name: 'License', link: '/license' },
      { name: 'Download', link: '/download' },
    ];

    // Get the current URL path
    const currentPath = window.location.pathname;

    // Function to determine the class for each menu item
    function getMenuClass(link) {
      return currentPath === link
        ? 'block px-4 py-2 rounded-lg bg-dreamworks-blue text-white'  // Active menu item
        : 'block px-4 py-2 rounded-lg hover:bg-gray-100 hover:text-blue-500';  // Inactive menu item
    }

    // Wait for DOM content to load
    document.addEventListener('DOMContentLoaded', () => {
      // Get the sidebar menu
      const sidebar = document.getElementById('sidebar');
      const mobileMenu = document.getElementById('mobilemenu');

      // Loop through the menuItems array and create list items dynamically
      const menuList = menuItems.map(item => {
        return `
          <li>
            <a href="${item.link}" class="${getMenuClass(item.link)}">
              ${item.name}
            </a>
          </li>
        `;
      }).join('');

      // Insert the menu items into the sidebar
      sidebar.innerHTML = ` 
      <ul class="space-y-4"> <li> <img src="https://openmoonray.org/images/nav.png" alt="Icon" class="mb-6" /> 
        </li> ${menuList} 
      </ul> <div class="mt-10 pb-8 text-left"> 
      <div class="border-b border-gray-300 pb-1 mb-3 font-semibold"> Contacts </div> <a href="mailto:MoonRay@dreamworks.com" class="text-blue-600 underline"> MoonRay@dreamworks.com </a> </div> `


      mobileMenu.innerHTML = `
        <ul class="space-y-4 p-5">
          ${menuList}
        </ul>
        <div class="ml-auto text-right p-3"> <span class="font-semibold">Contacts:</span> <a href="mailto:MoonRay@dreamworks.com" class="text-blue-600 underline"> MoonRay@dreamworks.com </a> </div>
      `;
    const tham = document.querySelector(".tham");
    tham.addEventListener('click', () => {
    tham.classList.toggle('tham-active');
    mobileMenu.classList.toggle('hidden');
});

    });
  </script>
</head>

<body class="bg-white text-gray-800 pt-20">
  <!-- Mobile Header -->
  <div
    id="toggle-button"
    class="md:hidden bg-white px-4 py-3 fixed top-0 left-0 w-full z-50"
  >
    <div class="tham tham-e-squeeze tham-w-6 ml-auto">
      <div class="tham-box">
        <div class="tham-inner"></div>
      </div>
    </div> 

    <img
      src={Image.moonray_logo}
      alt="Icon"
      class="h-8"
    />

    <div id="mobilemenu" class="hidden mt-8 outline outline-3 outline-dreamworks-blue">
    </div>

  </div>

    <!-- Desktop Header -->
    <div class="hidden md:block"> 
      <aside id="sidebar" 
      class="bg-white w-80 h-screen fixed overflow-y-auto">  
      </aside> 
    </div>
    
</body>